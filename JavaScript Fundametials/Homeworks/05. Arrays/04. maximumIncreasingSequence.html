<html>

<head>
	<title>Data types and variables - Integer types</title>
	<link href="styles/js-console.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
</head>

<body>
    <h1> 
        Write a script that finds the maximal increasing sequence in an numbers. 
        Example: {3, 2, 3, 4, 2, 2, 4}  {2, 3, 4}.
    </h1>

     <div>
        <label for = "sequence">Input sequence of numbers(separated by ','):</label>
        <input type = "text" id = "sequence"> 
        <button onclick="findSequence(document.getElementById('sequence').value)">Find</button>   
    </div>


	<div id="js-console"></div>				 
	<script src="scripts/js-console.js"></script>
	<script>
		// Task4 : Write a script that finds the maximal increasing sequence in an numbers. Example: {3, 2, 3, 4, 2, 2, 4}  {2, 3, 4}.
    
        function findSequence(sequence) {
            var numbers = sequence.split(","),
                count = 1, // variable for current sequence count
                maxcount = 0, // variable for current max count
                mostFrequent = numbers[0], // valable to kept the most frequent element, first the 0 element
                i;

            for (i = 1; i < numbers.length; i++) {
                if (numbers[i - 1] == (numbers[i]-1)) { // //the task is pretty equal to previous only here the logic is different - it must check not if they're equal but if previous is equal to current-1
                    count++;              
                }
                else { // if not compare current count with max count
                    if (count > maxcount) { // if current is bigger max get's it's value
                        maxcount = count;
                        mostFrequent = numbers[i - 1]; // get's previous element, couse current isn't equal anymore
                    }
                    count = 1; //then current begin from 1
                }
            }

            if (count > maxcount) { //we must check again if the sequence is to the last element
                maxcount = count;
                mostFrequent = numbers[numbers.length - 1];
            }

            var current;

            for (i = 0; i < maxcount; i++)
            {
                current = mostFrequent-maxcount+i+1; //here the logic isn't same too. It's not equal elements, but increasing and we got biggest element. So the equasion is biggest-lenght+i+1 - it's working :P
                jsConsole.writeLine(current);
            }
        }
	</script>
</body>

</html>
