<html>

<head>
	<title>Data types and variables - Integer types</title>
	<link href="styles/js-console.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
</head>

<body>
    <h1> 
        Write a program that finds the index of given element in a sorted numbers of integers by using the binary search algorithm (find it in Wikipedia).
    </h1>

     <div>
        <label for = "sequence">Input sequence of numbers(separated by ','):</label>
        <input type = "text" id = "sequence"> 
        <label for = "number">Input the searched number:</label>
        <input type = "text" id = "number"> 
        <button onclick="findNumber(document.getElementById('sequence').value, document.getElementById('number').value)">Find</button>   
    </div>


	<div id="js-console"></div>				 
	<script src="scripts/js-console.js"></script>
	<script>
		// Task7 : Write a program that finds the index of given element in a sorted numbers of integers by using the binary search algorithm (find it in Wikipedia).
  
        function findNumber(sequence, element) {
            var numbers = sequence.split(",");

            numbers.sort(); // after the sort the numbers gonna change the index, if we input 0 4 2 1, it gonna be 0 1 2 4, so the index of 4 gonna change from 1 to 3, please notice that!!!!

            if (binarySearch(numbers, element, 0, numbers.length)!=-1) { //if it returns -1 so the element isn't in the numbers so we have to print No such element, else statement, but if it returns anything else - it's the index of the searched element
                jsConsole.writeLine('The index into the sorted numbers of ' + element + ' is ' + binarySearch(numbers, element, 0, numbers.length));  
            }
            else {
                jsConsole.writeLine('No such element in the numbers');
            }
        }

        function binarySearch(arr, key, imin, imax)
        {
            if (imax >= imin) {
                // calculate midpoint to cut set in half
                var imid = (imin + imax) / 2 | 0;

                // three-way comparison
                if (parseFloat(arr[imid]) > parseFloat(key))
                    // key is in lower subset
                    return binarySearch(arr, key, imin, imid - 1);
                else if (parseFloat(arr[imid]) < parseFloat(key))
                    // key is in upper subset
                    return binarySearch(arr, key, imid + 1, imax);
                else
                    // key has been found
                    return imid;
            }
            else {
                //if key is not in the numbers gonna return -1
                return -1;
            }
        }
	</script>
</body>

</html>
